apiVersion: v1
kind: ConfigMap
metadata:
  name: aguabl
data:
  AGUABL_C_IN.xsl: |
    <?xml version="1.0" encoding="UTF-8" ?>
    <?oracle-xsl-mapper <!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. -->
      <mapSources>
        <source type="WSDL">
          <schema location="../../../../../../../Disco%20D/veinti4online/Proyecto%20Cash/Concentrador%20de%20pagos/DOCUMENTACIONMAPEO/Project4/otc-nopolicy.wsdl"/>
          <rootElement name="entradaConsultarDeuda" namespace="http://www.bolivariano.com/mensaje/MensajeOTC"/>
        </source>
      </mapSources>
      <mapTargets>
        <target type="WSDL">
          <schema location="../../../../../../../Disco%20D/veinti4online/Proyecto%20Cash/Concentrador%20de%20pagos/DOCUMENTACIONMAPEO/Project4/xsd/RecaudacionAgua_1.wsdl"/>
          <rootElement name="MensajeEntradaObtenerSaldoPendiente" namespace="http://www.bolivariano.com/CashManagement/MensajesRecaudacionAgua"/>
        </target>
      </mapTargets>
      <!-- GENERATED BY ORACLE XSL MAPPER 11.1.1.7.0(build 130301.0647.0008) AT [TUE JUN 05 15:04:37 COT 2018]. -->
    ?>
    <xsl:stylesheet version="1.0"
                    xmlns:ns11="http://www.bolivariano.com/CashManagement/ws/RecaudacionAgua"
                    xmlns:ns12="http://www.bolivariano.com/FormaPago"
                    xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                    xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                    xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:ns15="http://www.bolivariano.com/Enumerados"
                    xmlns:bpm="http://xmlns.oracle.com/bpmn20/extensions"
                    xmlns:ns1="http://www.bolivariano.com/dominio/DatoAdicional"
                    xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
                    xmlns:ns14="http://www.bolivariano.com/CoreBB"
                    xmlns:mime="http://schemas.xmlsoap.org/wsdl/mime/"
                    xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
                    xmlns:ora="http://schemas.oracle.com/xpath/extension"
                    xmlns:ns5="http://www.bolivariano.com/dominio/Convenio"
                    xmlns:socket="http://www.oracle.com/XSL/Transform/java/oracle.tip.adapter.socket.ProtocolTranslator"
                    xmlns:ns6="http://www.bolivariano.com/dominio/Recibo"
                    xmlns:ns10="http://www.bolivariano.com/dominio/ListaSeleccion"
                    xmlns:ns9="http://www.bolivariano.com/dominio/RegionalArea"
                    xmlns:mc="http://www.bolivariano.com/CashManagement/MensajesRecaudacionAgua"
                    xmlns:ns0="http://www.bolivariano.com/dominio/Servicio"
                    xmlns:ns13="http://www.bolivariano.com/MensajeBolivariano"
                    xmlns:mhdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.mediator.service.common.functions.MediatorExtnFunction"
                    xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                    xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue"
                    xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
                    xmlns:plnk="http://docs.oasis-open.org/wsbpel/2.0/plnktype"
                    xmlns:med="http://schemas.oracle.com/mediator/xpath"
                    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                    xmlns:ns2="http://www.bolivariano.com/dominio/TipoMatriculacion"
                    xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
                    xmlns:ns3="http://www.bolivariano.com/dominio/FormaPago"
                    xmlns:ns17="http://www.bolivariano.com/Restricciones"
                    xmlns:xdk="http://schemas.oracle.com/bpel/extension/xpath/function/xdk"
                    xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions"
                    xmlns:ns4="http://www.bolivariano.com/dominio/TipoIdentificador"
                    xmlns:tns="http://www.bolivariano.com/mensaje/MensajeOTC"
                    xmlns:http="http://schemas.xmlsoap.org/wsdl/http/"
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                    xmlns:ns7="http://www.bolivariano.com/dominio/Empresa"
                    xmlns:ns16="http://www.bolivariano.com/Comision"
                    xmlns:ns8="http://www.bolivariano.com/mensaje/MensajeOTC"
                    xmlns:ldap="http://schemas.oracle.com/xpath/extension/ldap"
                    exclude-result-prefixes="xsi xsl ns1 soap wsdl ns5 ns6 ns10 ns9 ns0 ns2 ns3 ns4 tns xsd ns7 ns8 ns11 ns12 ns15 ns14 mime mc ns13 plnk ns17 http ns16 xp20 bpws bpel bpm ora socket mhdr oraext dvm hwf med ids xdk xref ldap">
      <xsl:template match="/">
        <mc:MensajeEntradaObtenerSaldoPendiente>
          <canal>
            <xsl:value-of select="/ns8:entradaConsultarDeuda/ns8:canal"/>
          </canal>
          <depuracion>
            <xsl:text disable-output-escaping="no">N</xsl:text>
          </depuracion>
          <fecha>
            <xsl:value-of select='/ns8:entradaConsultarDeuda/ns8:servicio/datosAdicionales/datoAdicional[codigo = "s_date"]/valor'/>
          </fecha>
          <oficina>
            <xsl:value-of select='/ns8:entradaConsultarDeuda/ns8:servicio/datosAdicionales/datoAdicional[codigo = "s_ofi"]/valor'/>
          </oficina>
          <terminal>
            <xsl:text disable-output-escaping="no">ATM00010</xsl:text>
          </terminal>
          <xsl:choose>
            <xsl:when test="/ns8:entradaConsultarDeuda/ns8:servicio/codigoEmpresa=6">
              <transaccion>
                <xsl:text disable-output-escaping="no">62668</xsl:text>
                <!--62668 Amagua en lÃ­nea para el resto 3137 en base-->
              </transaccion>
            </xsl:when>
            <xsl:when test="/ns8:entradaConsultarDeuda/ns8:servicio/codigoEmpresa!=6">
              <transaccion>
                <xsl:text disable-output-escaping="no">3137</xsl:text>
              </transaccion>
            </xsl:when>
          </xsl:choose>
          <usuario>
            <xsl:value-of select='/ns8:entradaConsultarDeuda/ns8:servicio/datosAdicionales/datoAdicional[codigo = "s_user"]/valor'/>
          </usuario>
          <codigoEmpresa>
            <xsl:value-of select="/ns8:entradaConsultarDeuda/ns8:servicio/codigoEmpresa"/>
          </codigoEmpresa>
          <suministro>
            <xsl:value-of select="/ns8:entradaConsultarDeuda/ns8:servicio/identificador"/>
          </suministro>
    	  <xsl:choose>
    		<xsl:when test='/ns8:entradaConsultarDeuda/ns8:canal = "CNB" and /ns8:entradaConsultarDeuda/ns8:servicio/codigoEmpresa = "4"'>
    			<rubro>
    				<xsl:text disable-output-escaping="no">CCAP</xsl:text>
    			</rubro>
    			<servicioPerson>
    				<xsl:text disable-output-escaping="no">CSBA</xsl:text>
    			</servicioPerson>
    		</xsl:when>
    		<xsl:when test='/ns8:entradaConsultarDeuda/ns8:canal = "CNB" and /ns8:entradaConsultarDeuda/ns8:servicio/codigoEmpresa = "6"'>
    			<rubro>
    				<xsl:text disable-output-escaping="no">CCAM</xsl:text>
    			</rubro>
    			<servicioPerson>
    				<xsl:text disable-output-escaping="no">CSBA</xsl:text>
    			</servicioPerson>
    		</xsl:when>
    		<xsl:when test='/ns8:entradaConsultarDeuda/ns8:canal = "CNB" and /ns8:entradaConsultarDeuda/ns8:servicio/codigoEmpresa = "360"'>
    			<rubro>
    				<xsl:text disable-output-escaping="no">CCAQ</xsl:text>
    			</rubro>
    			<servicioPerson>
    				<xsl:text disable-output-escaping="no">CSBA</xsl:text>
    			</servicioPerson>
    		</xsl:when>
    	  </xsl:choose>
        </mc:MensajeEntradaObtenerSaldoPendiente>
      </xsl:template>
    </xsl:stylesheet>
  AGUABL_C_OUT.xsl: |
    <?xml version="1.0" encoding="UTF-8" ?>
    <?oracle-xsl-mapper <!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. -->
      <mapSources>
        <source type="WSDL">
          <schema location="../../../../../../../Disco%20D/veinti4online/Proyecto%20Cash/Concentrador%20de%20pagos/DOCUMENTACIONMAPEO/Project4/xsd/RecaudacionAgua_1.wsdl"/>
          <rootElement name="MensajeSalidaObtenerSaldoPendiente" namespace="http://www.bolivariano.com/CashManagement/MensajesRecaudacionAgua"/>
        </source>
      </mapSources>
      <mapTargets>
        <target type="WSDL">
          <schema location="../../../../../../../Disco%20D/veinti4online/Proyecto%20Cash/Concentrador%20de%20pagos/DOCUMENTACIONMAPEO/Project4/otc-nopolicy.wsdl"/>
          <rootElement name="salidaConsultarDeuda" namespace="http://www.bolivariano.com/mensaje/MensajeOTC"/>
        </target>
      </mapTargets>
      <!-- GENERATED BY ORACLE XSL MAPPER 11.1.1.7.0(build 130301.0647.0008) AT [THU JUN 07 15:44:13 COT 2018]. -->
    ?>
    <xsl:stylesheet version="1.0"
                    xmlns:tns="http://www.bolivariano.com/CashManagement/ws/RecaudacionAgua"
                    xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                    xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                    xmlns:ns0="http://www.bolivariano.com/FormaPago"
                    xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:ns3="http://www.bolivariano.com/Enumerados"
                    xmlns:bpm="http://xmlns.oracle.com/bpmn20/extensions"
                    xmlns:ns6="http://www.bolivariano.com/dominio/DatoAdicional"
                    xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
                    xmlns:ns2="http://www.bolivariano.com/CoreBB"
                    xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
                    xmlns:mime="http://schemas.xmlsoap.org/wsdl/mime/"
                    xmlns:ora="http://schemas.oracle.com/xpath/extension"
                    xmlns:ns12="http://www.bolivariano.com/dominio/Convenio"
                    xmlns:socket="http://www.oracle.com/XSL/Transform/java/oracle.tip.adapter.socket.ProtocolTranslator"
                    xmlns:ns13="http://www.bolivariano.com/dominio/Recibo"
                    xmlns:ns16="http://www.bolivariano.com/dominio/RegionalArea"
                    xmlns:ns17="http://www.bolivariano.com/dominio/ListaSeleccion"
                    xmlns:mc="http://www.bolivariano.com/CashManagement/MensajesRecaudacionAgua"
                    xmlns:ns8="http://www.bolivariano.com/dominio/Servicio"
                    xmlns:ns1="http://www.bolivariano.com/MensajeBolivariano"
                    xmlns:mhdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.mediator.service.common.functions.MediatorExtnFunction"
                    xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                    xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue"
                    xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
                    xmlns:plnk="http://docs.oasis-open.org/wsbpel/2.0/plnktype"
                    xmlns:ns9="http://www.bolivariano.com/dominio/TipoMatriculacion"
                    xmlns:med="http://schemas.oracle.com/mediator/xpath"
                    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                    xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
                    xmlns:ns10="http://www.bolivariano.com/dominio/FormaPago"
                    xmlns:ns5="http://www.bolivariano.com/Restricciones"
                    xmlns:xdk="http://schemas.oracle.com/bpel/extension/xpath/function/xdk"
                    xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions"
                    xmlns:ns11="http://www.bolivariano.com/dominio/TipoIdentificador"
                    xmlns:ns7="http://www.bolivariano.com/mensaje/MensajeOTC"
                    xmlns:http="http://schemas.xmlsoap.org/wsdl/http/"
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                    xmlns:ns14="http://www.bolivariano.com/dominio/Empresa"
                    xmlns:ns4="http://www.bolivariano.com/Comision"
                    xmlns:ns15="http://www.bolivariano.com/mensaje/MensajeOTC"
                    xmlns:ldap="http://schemas.oracle.com/xpath/extension/ldap"
                    exclude-result-prefixes="xsi xsl tns ns0 ns3 soap ns2 wsdl mime mc ns1 plnk ns5 http xsd ns4 ns6 ns12 ns13 ns16 ns17 ns8 ns9 ns10 ns11 ns7 ns14 ns15 xp20 bpws bpel bpm ora socket mhdr oraext dvm hwf med ids xdk xref ldap">
      <xsl:template match="/">
        <ns15:salidaConsultarDeuda>
          <xsl:choose>
            <xsl:when test="/mc:MensajeSalidaObtenerSaldoPendiente/codigoError != 0">
              <ns15:codigoError>
                <xsl:value-of select="/mc:MensajeSalidaObtenerSaldoPendiente/codigoError"/>
              </ns15:codigoError>
              <ns15:mensajeUsuario>
                <xsl:value-of select="/mc:MensajeSalidaObtenerSaldoPendiente/mensajeUsuario"/>
              </ns15:mensajeUsuario>
            </xsl:when>
            <xsl:otherwise>
              <xsl:choose>
                <xsl:when test="/mc:MensajeSalidaObtenerSaldoPendiente/saldoDeuda = 0 or /mc:MensajeSalidaObtenerSaldoPendiente/saldoDeuda * (-1.0)> 0">
                  <ns15:codigoError>
                    <xsl:text disable-output-escaping="no">-1</xsl:text>
                  </ns15:codigoError>
                  <ns15:mensajeUsuario>
                    <xsl:text disable-output-escaping="no">Deuda cancelada</xsl:text>
                  </ns15:mensajeUsuario>
                </xsl:when>
                <xsl:when test="/mc:MensajeSalidaObtenerSaldoPendiente/saldoDeuda > 0">
                  <ns15:codigoError>
                    <xsl:value-of select="/mc:MensajeSalidaObtenerSaldoPendiente/codigoError"/>
                  </ns15:codigoError>
                  <ns15:mensajeUsuario>
                    <xsl:value-of select="/mc:MensajeSalidaObtenerSaldoPendiente/mensajeUsuario"/>
                  </ns15:mensajeUsuario>
                  <ns15:fechaVencimiento>
                    <xsl:value-of select="/mc:MensajeSalidaObtenerSaldoPendiente/fechaTopePago"/>
                  </ns15:fechaVencimiento>
                                                           <ns15:datosAdicionales>
    								<ns15:datoAdicional>
    									<codigo>costoComision</codigo>
    									<valor>
    										<xsl:value-of select="/mc:MensajeSalidaObtenerSaldoPendiente/comision"/>
    									</valor>
    								</ns15:datoAdicional>
    							</ns15:datosAdicionales>
                  <xsl:choose>
                    <xsl:when test="/mc:MensajeSalidaObtenerSaldoPendiente/empresa = '4'">
                      <ns15:formaPago>
                        <xsl:text disable-output-escaping="no">ABONO</xsl:text>
                      </ns15:formaPago>
                    </xsl:when>
                    <xsl:when test="/mc:MensajeSalidaObtenerSaldoPendiente/empresa = '6'">
                      <ns15:formaPago>
                        <xsl:text disable-output-escaping="no">ABONO</xsl:text>
                      </ns15:formaPago>
                    </xsl:when>
                    <xsl:when test="/mc:MensajeSalidaObtenerSaldoPendiente/empresa = '360'">
                      <ns15:formaPago>
                        <xsl:text disable-output-escaping="no">ABONO</xsl:text>
                      </ns15:formaPago>
                    </xsl:when>
                  </xsl:choose>
                  <xsl:choose>
                    <xsl:when test="/mc:MensajeSalidaObtenerSaldoPendiente/empresa = '4' or /mc:MensajeSalidaObtenerSaldoPendiente/empresa = '360' ">
                      <xsl:if test="/mc:MensajeSalidaObtenerSaldoPendiente/minimoPagar > 0">
                        <ns15:montoMinimo>
                          <xsl:value-of select="/mc:MensajeSalidaObtenerSaldoPendiente/minimoPagar"/>
                        </ns15:montoMinimo>
                        <ns15:limiteMontoMinimo>
                          <xsl:value-of select="/mc:MensajeSalidaObtenerSaldoPendiente/minimoPagar"/>
                        </ns15:limiteMontoMinimo>
                      </xsl:if>
                      <xsl:if test="/mc:MensajeSalidaObtenerSaldoPendiente/saldoDeuda > 0">
                        <ns15:limiteMontoMaximo>
                          <xsl:value-of select="/mc:MensajeSalidaObtenerSaldoPendiente/saldoDeuda"/>
                        </ns15:limiteMontoMaximo>
                      </xsl:if>
                    </xsl:when>
                  </xsl:choose>
                  <ns15:montoTotal>
                    <xsl:value-of select="/mc:MensajeSalidaObtenerSaldoPendiente/saldoDeuda"/>
                  </ns15:montoTotal>
                  <ns15:nombreCliente>
                    <xsl:value-of select="/mc:MensajeSalidaObtenerSaldoPendiente/nombreCliente"/>
                  </ns15:nombreCliente>
                </xsl:when>
              </xsl:choose>
            </xsl:otherwise>
          </xsl:choose>
        </ns15:salidaConsultarDeuda>
      </xsl:template>
    </xsl:stylesheet>
  AGUABL_P_IN.xsl: |
    <?xml version="1.0" encoding="UTF-8"?>
    <xsl:stylesheet version="1.0" xmlns:mc="http://www.bolivariano.com/CashManagement/MensajesRecaudacionAgua" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:ns8="http://www.bolivariano.com/mensaje/MensajeOTC" xmlns:tns="http://www.bolivariano.com/mensaje/MensajeOTC" exclude-result-prefixes="xsl tns">
        <xsl:template match="/">
            <mc:MensajeEntradaPagar>
                <canal>
                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:canal"/>
                </canal>
                <fecha>
                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;s_date&quot;]/valor"/>
                </fecha>
                <oficina>
                    <xsl:text disable-output-escaping="no">0</xsl:text>
                </oficina>
                <terminal>
                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;s_term&quot;]/valor"/>
                </terminal>
                <xsl:choose>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal != &quot;CNB&quot; and /ns8:entradaEjecutarPago/ns8:servicio/codigoEmpresa = &quot;4&quot;">
                        <transaccion>
                            <xsl:text disable-output-escaping="no">3137</xsl:text>
                        </transaccion>
                    </xsl:when>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal != &quot;CNB&quot; and /ns8:entradaEjecutarPago/ns8:servicio/codigoEmpresa = &quot;360&quot;">
                        <transaccion>
                            <xsl:text disable-output-escaping="no">3137</xsl:text>
                        </transaccion>
                    </xsl:when>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal != &quot;CNB&quot; and /ns8:entradaEjecutarPago/ns8:servicio/codigoEmpresa = &quot;6&quot;">
                        <transaccion>
                            <xsl:text disable-output-escaping="no">62669</xsl:text>
                        </transaccion>
                    </xsl:when>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = &quot;CNB&quot; and /ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;p_codigoEmpresa&quot;]/valor = &quot;4&quot;">
                        <transaccion>
                            <xsl:text disable-output-escaping="no">3137</xsl:text>
                        </transaccion>
                    </xsl:when>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = &quot;CNB&quot; and /ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;p_codigoEmpresa&quot;]/valor = &quot;360&quot;">
                        <transaccion>
                            <xsl:text disable-output-escaping="no">3137</xsl:text>
                        </transaccion>
                    </xsl:when>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = &quot;CNB&quot; and /ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;p_codigoEmpresa&quot;]/valor = &quot;6&quot;">
                        <transaccion>
                            <xsl:text disable-output-escaping="no">62669</xsl:text>
                        </transaccion>
                    </xsl:when>
                </xsl:choose>
                <secuencial>
                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;s_ssn&quot;]/valor"/>
                </secuencial>
                <usuario>
                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;s_user&quot;]/valor"/>
                </usuario>
                <xsl:choose>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal != &quot;CNB&quot; and /ns8:entradaEjecutarPago/ns8:servicio/codigoEmpresa = &quot;4&quot;">
                        <empresa>
                            <xsl:text disable-output-escaping="no">AGUAPEN</xsl:text>
                        </empresa>
                    </xsl:when>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal != &quot;CNB&quot; and /ns8:entradaEjecutarPago/ns8:servicio/codigoEmpresa = &quot;6&quot;">
                        <empresa>
                            <xsl:text disable-output-escaping="no">AMAGUA</xsl:text>
                        </empresa>
                    </xsl:when>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal != &quot;CNB&quot; and /ns8:entradaEjecutarPago/ns8:servicio/codigoEmpresa = &quot;4&quot;">
                        <empresa>
                            <xsl:text disable-output-escaping="no">EMAAP-Q</xsl:text>
                        </empresa>
                    </xsl:when>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = &quot;CNB&quot; and /ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;p_codigoEmpresa&quot;]/valor = &quot;4&quot;">
                        <empresa>
                            <xsl:text disable-output-escaping="no">AGUAPEN</xsl:text>
                        </empresa>
                    </xsl:when>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = &quot;CNB&quot; and /ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;p_codigoEmpresa&quot;]/valor = &quot;6&quot;">
                        <empresa>
                            <xsl:text disable-output-escaping="no">AMAGUA</xsl:text>
                        </empresa>
                    </xsl:when>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = &quot;CNB&quot; and /ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;p_codigoEmpresa&quot;]/valor = &quot;4&quot;">
                        <empresa>
                            <xsl:text disable-output-escaping="no">EMAAP-Q</xsl:text>
                        </empresa>
                    </xsl:when>
                </xsl:choose>
                <xsl:choose>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB'">
                        <codigoEmpresa>
                            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_codigoEmpresa']/valor"/>
                        </codigoEmpresa>
                    </xsl:when>
                    <xsl:otherwise>
                        <codigoEmpresa>
                            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:servicio/codigoEmpresa"/>
                        </codigoEmpresa>
                    </xsl:otherwise>
                </xsl:choose>
                <suministro>
                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:servicio/identificador"/>
                </suministro>
                <moneda>
                    <xsl:text disable-output-escaping="no">1</xsl:text>
                </moneda>
                <xsl:if test="not(/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;MPA_TC&quot;])">
                    <cuenta>
                        <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:cuenta"/>
                    </cuenta>
                </xsl:if>
                <xsl:choose>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB' and (/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                        <tipoCuenta>
                            <xsl:text disable-output-escaping="no">CTE</xsl:text>
                        </tipoCuenta>
                    </xsl:when>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;MPA_TC&quot;]">
                        <tipoCuenta>
                            <xsl:text disable-output-escaping="no">CTE</xsl:text>
                        </tipoCuenta>
                    </xsl:when>
                    <xsl:otherwise>
                        <tipoCuenta>
                            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:tipoCuenta"/>
                        </tipoCuenta>
                    </xsl:otherwise>
                </xsl:choose>
                <nombreCliente>
                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:nombreCliente"/>
                </nombreCliente>
                <pago>
                    <valorPagoTotal>
                        <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorPago"/>
                    </valorPagoTotal>
                    <valorComisionTotal>
                        <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorComision"/>
                    </valorComisionTotal>
                    <xsl:choose>
                        <xsl:when test="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;MPA_TC&quot;]">
                            <xsl:if test="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;MPA_TC&quot;]">
                                <debitoCuenta>
                                    <tipoCuenta>
                                        <xsl:text disable-output-escaping="no">CTE</xsl:text>
                                    </tipoCuenta>
                                    <cuenta>
                                        <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:cuenta"/>
                                    </cuenta>
                                    <valor>
                                        <xsl:text disable-output-escaping="no">0.00</xsl:text>
                                    </valor>
                                    <valorComision>
                                        <xsl:text disable-output-escaping="no">0.00</xsl:text>
                                    </valorComision>
                                </debitoCuenta>
                            </xsl:if>
                        </xsl:when>
                        <xsl:otherwise>
                            <debitoCuenta>
                                <xsl:choose>
                                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB' and (/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                                        <tipoCuenta>
                                            <xsl:text disable-output-escaping="no">CTE</xsl:text>
                                        </tipoCuenta>
                                    </xsl:when>
                                    <xsl:otherwise>
                                        <tipoCuenta>
                                            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:tipoCuenta"/>
                                        </tipoCuenta>
                                    </xsl:otherwise>
                                </xsl:choose>
                                <cuenta>
                                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:cuenta"/>
                                </cuenta>
                                <xsl:choose>
                                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB' and (/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                                        <valor>
                                            <xsl:text disable-output-escaping="no">0.00</xsl:text>
                                        </valor>
                                    </xsl:when>
                                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB' and (/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'DEB')">
                                        <valor>
                                            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorPago"/>
                                        </valor>
                                    </xsl:when>
                                    <xsl:otherwise>
                                        <valor>
                                            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorPago"/>
                                        </valor>
                                    </xsl:otherwise>
                                </xsl:choose>
                                <xsl:choose>
                                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB' and (/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                                        <valorComision>
                                            <xsl:text disable-output-escaping="no">0.00</xsl:text>
                                        </valorComision>
                                    </xsl:when>
                                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB' and (/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'DEB')">
                                        <valorComision>
                                            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorComision"/>
                                        </valorComision>
                                    </xsl:when>
                                    <xsl:otherwise>
                                        <valorComision>
                                            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorComision"/>
                                        </valorComision>
                                    </xsl:otherwise>
                                </xsl:choose>
                            </debitoCuenta>
                        </xsl:otherwise>
                    </xsl:choose>
                    <efectivo>
                        <xsl:choose>
                            <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB' and (/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                                <valor>
                                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorPago"/>
                                </valor>
                            </xsl:when>
                            <xsl:otherwise>
                                <valor>
                                    <xsl:text disable-output-escaping="no">0.00</xsl:text>
                                </valor>
                            </xsl:otherwise>
                        </xsl:choose>
                        <xsl:choose>
                            <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB' and (/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                                <valorComision>
                                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorComision"/>
                                </valorComision>
                            </xsl:when>
                            <xsl:otherwise>
                                <valorComision>
                                    <xsl:text disable-output-escaping="no">0.00</xsl:text>
                                </valorComision>
                            </xsl:otherwise>
                        </xsl:choose>
                    </efectivo>
                    <xsl:if test="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;MPA_TC&quot;]">
                        <tarjeta>
                            <tipoTarjeta>CTE</tipoTarjeta>
                            <tarjeta>
                                <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;MPA_TC&quot;]/valor"/>
                            </tarjeta>
                            <cvv>
                                <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;FPA_TC&quot;]/valor"/>
                            </cvv>
                            <fechaExpiracion/>
                            <valor>
                                <xsl:value-of select="format-number(/tns:entradaEjecutarPago/ns8:valorPago,'0.00')"/>
                            </valor>
                            <valorComision>
                                <xsl:value-of select="format-number(/tns:entradaEjecutarPago/ns8:valorComision,'0.00')"/>
                            </valorComision>
                        </tarjeta>
                    </xsl:if>
                </pago>
                <xsl:choose>
                    <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB'">
                        <CNB>
                            <autorizacion>
                                <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_autorizacionCNB']/valor"/>
                            </autorizacion>
                            <comercio>
                                <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_comercio']/valor"/>
                            </comercio>
                            <terminalID>
                                <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_terminalID']/valor"/>
                            </terminalID>
                            <agencia>
                                <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_agencia']/valor"/>
                            </agencia>
                            <red>
                                <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_red']/valor"/>
                            </red>
                            <secuencial>
                                <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;s_ssn&quot;]/valor"/>
                            </secuencial>
                            <valor>
                                <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorPago"/>
                            </valor>
                            <nombreCliente>
                                <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;p_nombreCliente&quot;]/valor"/>
                            </nombreCliente>
                            <identificacionCliente>
                                <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;p_identificacionCliente&quot;]/valor"/>
                            </identificacionCliente>
                            <modoCorreccion>
                                <xsl:text disable-output-escaping="no">N</xsl:text>
                            </modoCorreccion>
                            <tipoTransaccion>
                                <xsl:text disable-output-escaping="no">P</xsl:text>
                            </tipoTransaccion>
                            <formaPago>
                                <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;p_forma_pago&quot;]/valor"/>
                            </formaPago>
                        </CNB>
                    </xsl:when>
                </xsl:choose>
            </mc:MensajeEntradaPagar>
        </xsl:template>
    </xsl:stylesheet>
  AGUABL_P_OUT.xsl: |
    <?xml version="1.0" encoding="UTF-8"?>
    <xsl:stylesheet version="1.0" xmlns:mc="http://www.bolivariano.com/CashManagement/MensajesRecaudacionAgua" xmlns:ns15="http://www.bolivariano.com/mensaje/MensajeOTC" xmlns:ns7="http://www.bolivariano.com/mensaje/MensajeOTC" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="java" exclude-result-prefixes="ns15 xsl java mc">
        <xsl:template match="/">
            <ns7:salidaEjecutarPago>
                <ns15:codigoError>
                    <xsl:value-of select="/mc:MensajeSalidaPagar/codigoError"/>
                </ns15:codigoError>
                <ns15:fechaDebito>
                    <xsl:value-of select="java:format(java:text.SimpleDateFormat.new(&quot;yyyy-MM-dd&apos;T&apos;HH:mm:ss.SSS&quot;), java:util.Date.new())"/>
                </ns15:fechaDebito>
                <xsl:if test="/mc:MensajeSalidaPagar/fechaProceso">
                    <ns15:fechaPago>
                        <xsl:value-of select="/mc:MensajeSalidaPagar/fechaProceso"/>
                    </ns15:fechaPago>
                </xsl:if>
                <xsl:if test="/mc:MensajeSalidaPagar/fechaContable">
                    <ns15:fechaPago>
                        <xsl:value-of select="/mc:MensajeSalidaPagar/fechaContable"/>
                    </ns15:fechaPago>
                </xsl:if>
                <ns15:mensajeUsuario>
                    <xsl:value-of select="/mc:MensajeSalidaPagar/mensajeUsuario"/>
                </ns15:mensajeUsuario>
                <xsl:if test="/mc:MensajeSalidaPagar/secuenciaTransaccion">
                    <ns15:referencia>
                        <xsl:value-of select="/mc:MensajeSalidaPagar/secuenciaTransaccion"/>
                    </ns15:referencia>
                </xsl:if>
                <ns15:datosAdicionales>
                    <xsl:if test="/mc:MensajeSalidaPagar/codigoPago">
                        <ns15:datoAdicional>
                            <codigo>codigoPago</codigo>
                            <valor>
                                <xsl:value-of select="/mc:MensajeSalidaPagar/codigoPago"/>
                            </valor>
                        </ns15:datoAdicional>
                    </xsl:if>
                    <ns15:datoAdicional>
                        <codigo>horario</codigo>
                        <valor>
                            <xsl:value-of select="/mc:MensajeSalidaPagar/horario"/>
                        </valor>
                    </ns15:datoAdicional>
                </ns15:datosAdicionales>
            </ns7:salidaEjecutarPago>
        </xsl:template>
    </xsl:stylesheet>
  AGUABL_R_IN.xsl: |
    <xsl:stylesheet version="1.0" xmlns:mc="http://www.bolivariano.com/CashManagement/MensajesRecaudacionAgua" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:ns8="http://www.bolivariano.com/mensaje/MensajeOTC" xmlns:tns="http://www.bolivariano.com/mensaje/MensajeOTC" exclude-result-prefixes="xsl tns">
        <xsl:template match="/">
            <mc:MensajeEntradaReversar>
                <canal>
                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:canal"/>
                </canal>
                <fecha>
                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;s_date&quot;]/valor"/>
                </fecha>
                <oficina>
                    <xsl:text disable-output-escaping="no">0</xsl:text>
                </oficina>
                <terminal>
                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;s_term&quot;]/valor"/>
                </terminal>
                <xsl:choose>
                    <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB'">
                        <xsl:choose>
                            <xsl:when test="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_codigoEmpresa']/valor = '4'">
                                <transaccion>
                                    <xsl:text disable-output-escaping="no">3137</xsl:text>
                                </transaccion>
                            </xsl:when>
                            <xsl:when test="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_codigoEmpresa']/valor = '360'">
                                <transaccion>
                                    <xsl:text disable-output-escaping="no">3137</xsl:text>
                                </transaccion>
                            </xsl:when>
                            <xsl:when test="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_codigoEmpresa']/valor = '6'">
                                <transaccion>
                                    <xsl:text disable-output-escaping="no">62669</xsl:text>
                                </transaccion>
                            </xsl:when>
                        </xsl:choose>
                    </xsl:when>
                    <xsl:otherwise>
                        <xsl:choose>
                            <xsl:when test="/ns8:entradaEjecutarReverso/ns8:servicio/datosAdicionales/datoAdicional[codigo = &quot;codigoEmpresa&quot;]/valor = &quot;4&quot;">
                                <transaccion>
                                    <xsl:text disable-output-escaping="no">3137</xsl:text>
                                </transaccion>
                            </xsl:when>
                            <xsl:when test="/ns8:entradaEjecutarReverso/ns8:servicio/datosAdicionales/datoAdicional[codigo = &quot;codigoEmpresa&quot;]/valor = &quot;360&quot;">
                                <transaccion>
                                    <xsl:text disable-output-escaping="no">3137</xsl:text>
                                </transaccion>
                            </xsl:when>
                            <xsl:when test="/ns8:entradaEjecutarReverso/ns8:servicio/datosAdicionales/datoAdicional[codigo = &quot;codigoEmpresa&quot;]/valor = &quot;6&quot;">
                                <transaccion>
                                    <xsl:text disable-output-escaping="no">62669</xsl:text>
                                </transaccion>
                            </xsl:when>
                        </xsl:choose>
                    </xsl:otherwise>
                </xsl:choose>
                <secuencial>
                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;s_ssn&quot;]/valor"/>
                </secuencial>
                <usuario>
                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;s_user&quot;]/valor"/>
                </usuario>
                <empresa>
                    <xsl:choose>
                        <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB'">
                            <xsl:choose>
                                <xsl:when test="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_codigoEmpresa']/valor = '4'">
                                    <xsl:text disable-output-escaping="no">AGUAPEN</xsl:text>
                                </xsl:when>
                                <xsl:when test="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_codigoEmpresa']/valor = '360'">
                                    <xsl:text disable-output-escaping="no">EMAAP-Q</xsl:text>
                                </xsl:when>
                                <xsl:when test="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_codigoEmpresa']/valor = '6'">
                                    <xsl:text disable-output-escaping="no">AMAGUA</xsl:text>
                                </xsl:when>
                            </xsl:choose>
                        </xsl:when>
                        <xsl:otherwise>
                            <xsl:choose>
                                <xsl:when test="/ns8:entradaEjecutarReverso/ns8:servicio/codigoEmpresa = &quot;4&quot;">
                                    <xsl:text disable-output-escaping="no">AGUAPEN</xsl:text>
                                </xsl:when>
                                <xsl:when test="/ns8:entradaEjecutarReverso/ns8:servicio/codigoEmpresa = &quot;6&quot;">
                                    <xsl:text disable-output-escaping="no">AMAGUA</xsl:text>
                                </xsl:when>
                                <xsl:when test="/ns8:entradaEjecutarReverso/ns8:servicio/codigoEmpresa = &quot;4&quot;">
                                    <xsl:text disable-output-escaping="no">EMAAP-Q</xsl:text>
                                </xsl:when>
                            </xsl:choose>
                        </xsl:otherwise>
                    </xsl:choose>
                </empresa>
                <codigoEmpresa>
                    <xsl:choose>
                        <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB'">
                            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_codigoEmpresa']/valor"/>
                        </xsl:when>
                        <xsl:otherwise>
                            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:servicio/codigoEmpresa"/>
                        </xsl:otherwise>
                    </xsl:choose>
                </codigoEmpresa>
                <suministro>
                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:servicio/identificador"/>
                </suministro>
                <moneda>
                    <xsl:text disable-output-escaping="no">1</xsl:text>
                </moneda>
                <nombreCliente>
                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:nombreCliente"/>
                </nombreCliente>
                <pago>
                    <valorPagoTotal>
                        <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorPago"/>
                    </valorPagoTotal>
                    <valorComisionTotal>
                        <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorComision"/>
                    </valorComisionTotal>
                    <debitoCuenta>
                        <xsl:choose>
                            <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB' and (/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                                <tipoCuenta>
                                    <xsl:text disable-output-escaping="no">CTE</xsl:text>
                                </tipoCuenta>
                            </xsl:when>
                            <xsl:otherwise>
                                <tipoCuenta>
                                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:tipoCuenta"/>
                                </tipoCuenta>
                            </xsl:otherwise>
                        </xsl:choose>
                        <cuenta>
                            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:cuenta"/>
                        </cuenta>
                        <xsl:choose>
                            <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB' and (/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                                <valor>
                                    <xsl:text disable-output-escaping="no">0.00</xsl:text>
                                </valor>
                            </xsl:when>
                            <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB' and (/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'DEB')">
                                <valor>
                                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorPago"/>
                                </valor>
                            </xsl:when>
                            <xsl:otherwise>
                                <valor>
                                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorPago"/>
                                </valor>
                            </xsl:otherwise>
                        </xsl:choose>
                        <xsl:choose>
                            <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB' and (/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                                <valorComision>
                                    <xsl:text disable-output-escaping="no">0.00</xsl:text>
                                </valorComision>
                            </xsl:when>
                            <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB' and (/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'DEB')">
                                <valorComision>
                                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorComision"/>
                                </valorComision>
                            </xsl:when>
                            <xsl:otherwise>
                                <valorComision>
                                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorComision"/>
                                </valorComision>
                            </xsl:otherwise>
                        </xsl:choose>
                    </debitoCuenta>
                    <xsl:choose>
                        <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB' ">
                            <efectivo>
                                <xsl:choose>
                                    <xsl:when test="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE'">
                                        <valor>
                                            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorPago"/>
                                        </valor>
                                    </xsl:when>
                                    <xsl:otherwise>
                                        <valor>
                                            <xsl:text disable-output-escaping="no">0.00</xsl:text>
                                        </valor>
                                    </xsl:otherwise>
                                </xsl:choose>
                                <xsl:choose>
                                    <xsl:when test="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE'">
                                        <valorComision>
                                            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorComision"/>
                                        </valorComision>
                                    </xsl:when>
                                    <xsl:otherwise>
                                        <valorComision>
                                            <xsl:text disable-output-escaping="no">0.00</xsl:text>
                                        </valorComision>
                                    </xsl:otherwise>
                                </xsl:choose>
                            </efectivo>
                        </xsl:when>
                    </xsl:choose>
                    <cheque>
                        <cantidadCheques>
                            <xsl:text disable-output-escaping="no">0</xsl:text>
                        </cantidadCheques>
                        <valor>
                            <xsl:text disable-output-escaping="no">0.00</xsl:text>
                        </valor>
                        <valorComision>
                            <xsl:text disable-output-escaping="no">0.00</xsl:text>
                        </valorComision>
                    </cheque>
                    <xsl:if test="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;MPA_TC&quot;]">
                        <tarjeta>
                            <tipoTarjeta>CTE</tipoTarjeta>
                            <tarjeta>
                                <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;MPA_TC&quot;]/valor"/>
                            </tarjeta>
                            <cvv>
                                <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;FPA_TC&quot;]/valor"/>
                            </cvv>
                            <fechaExpiracion/>
                            <valor>
                                <xsl:value-of select="format-number(/tns:entradaEjecutarReverso/ns8:valorPago,'0.00')"/>
                            </valor>
                            <valorComision>
                                <xsl:value-of select="format-number(/tns:entradaEjecutarReverso/ns8:valorComision,'0.00')"/>
                            </valorComision>
                        </tarjeta>
                    </xsl:if>
                </pago>
                <xsl:choose>
                    <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB'">
                        <secuencialReverso>
                            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_reversoTransaccion']/valor"/>
                        </secuencialReverso>
                    </xsl:when>
                    <xsl:otherwise>
                        <secuencialReverso>
                            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 's_ssn_reverse']/valor"/>
                        </secuencialReverso>
                    </xsl:otherwise>
                </xsl:choose>
                <modoCorreccion>
                    <xsl:text disable-output-escaping="no">S</xsl:text>
                </modoCorreccion>
                <aplicativoCobis>
                    <xsl:text disable-output-escaping="no">S</xsl:text>
                </aplicativoCobis>
                <ubicacion>
                    <xsl:text disable-output-escaping="no">0</xsl:text>
                </ubicacion>
                <rol>
                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;s_rol&quot;]/valor"/>
                </rol>
                <servidor>
                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;s_srv&quot;]/valor"/>
                </servidor>
                <servidorLocal>
                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;s_lsrv&quot;]/valor"/>
                </servidorLocal>
                <motivoReverso>
                    <xsl:text disable-output-escaping="no">026</xsl:text>
                </motivoReverso>
                <codigoPago>
                    <xsl:choose>
                        <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB' and (/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_codigoEmpresa']/valor = '6')">
                            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;s_ssn&quot;]/valor"/>
                        </xsl:when>
                        <xsl:otherwise>
                            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_codigo_pago']/valor"/>
                        </xsl:otherwise>
                    </xsl:choose>
                </codigoPago>
                <xsl:choose>
                    <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB'">
                        <CNB>
                            <autorizacion>
                                <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_autorizacionCNB']/valor"/>
                            </autorizacion>
                            <comercio>
                                <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_comercio']/valor"/>
                            </comercio>
                            <terminalID>
                                <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_terminalID']/valor"/>
                            </terminalID>
                            <agencia>
                                <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_agencia']/valor"/>
                            </agencia>
                            <red>
                                <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_red']/valor"/>
                            </red>
                            <secuencial>
                                <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;s_ssn&quot;]/valor"/>
                            </secuencial>
                            <valor>
                                <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorPago"/>
                            </valor>
                            <nombreCliente>
                                <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;p_nombreCliente&quot;]/valor"/>
                            </nombreCliente>
                            <identificacionCliente>
                                <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;p_identificacionCliente&quot;]/valor"/>
                            </identificacionCliente>
                            <modoCorreccion>
                                <xsl:text disable-output-escaping="no">S</xsl:text>
                            </modoCorreccion>
                            <reversoTransaccion>
                                <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;p_reversoTransaccion&quot;]/valor"/>
                            </reversoTransaccion>
                            <tipoTransaccion>
                                <xsl:text disable-output-escaping="no">R</xsl:text>
                            </tipoTransaccion>
                            <formaPago>
                                <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = &quot;p_forma_pago&quot;]/valor"/>
                            </formaPago>
                        </CNB>
                    </xsl:when>
                </xsl:choose>
            </mc:MensajeEntradaReversar>
        </xsl:template>
    </xsl:stylesheet>
  AGUABL_R_OUT.xsl: |
    <?xml version="1.0" encoding="UTF-8"?>
    <xsl:stylesheet version="1.0" xmlns:mc="http://www.bolivariano.com/CashManagement/MensajesRecaudacionAgua" xmlns:ns15="http://www.bolivariano.com/mensaje/MensajeOTC" xmlns:ns7="http://www.bolivariano.com/mensaje/MensajeOTC" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="java" exclude-result-prefixes="ns15 xsl java mc">
        <xsl:template match="/">
            <ns7:salidaEjecutarPago>
                <ns15:codigoError>
                    <xsl:value-of select="/mc:MensajeSalidaReversar/codigoError"/>
                </ns15:codigoError>
                <ns15:fechaDebito>
                    <xsl:value-of select="java:format(java:text.SimpleDateFormat.new(&quot;yyyy-MM-dd&apos;T&apos;HH:mm:ss.SSS&quot;), java:util.Date.new())"/>
                </ns15:fechaDebito>
                <xsl:if test="/mc:MensajeSalidaReversar/fechaProceso">
                    <ns15:fechaPago>
                        <xsl:value-of select="/mc:MensajeSalidaReversar/fechaProceso"/>
                    </ns15:fechaPago>
                </xsl:if>
                <xsl:if test="/mc:MensajeSalidaReversar/fechaContable">
                    <ns15:fechaPago>
                        <xsl:value-of select="/mc:MensajeSalidaReversar/fechaContable"/>
                    </ns15:fechaPago>
                </xsl:if>
                <ns15:mensajeUsuario>
                    <xsl:value-of select="/mc:MensajeSalidaReversar/mensajeUsuario"/>
                </ns15:mensajeUsuario>
                <xsl:if test="/mc:MensajeSalidaReversar/secuenciaTransaccion">
                    <ns15:referencia>
                        <xsl:value-of select="/mc:MensajeSalidaReversar/secuenciaTransaccion"/>
                    </ns15:referencia>
                </xsl:if>
            </ns7:salidaEjecutarPago>
        </xsl:template>
    </xsl:stylesheet>
