apiVersion: v1
kind: ConfigMap
metadata:
  name: directvpospago
data:
  DIRECTVPOSPAGO_C_IN.xsl: |
    <?xml version="1.0" encoding="UTF-8" ?>
    <?oracle-xsl-mapper
      <!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. -->
      <mapSources>
        <source type="WSDL">
          <schema location="../OTCEndpoint_1.wsdl"/>
          <rootElement name="entradaConsultarDeuda" namespace="http://www.bolivariano.com/ws/OTCService"/>
        </source>
      </mapSources>
      <mapTargets>
        <target type="WSDL">
          <schema location="../wsdl/DirectvPostpago.wsdl"/>
          <rootElement name="MensajeEntradaConsultar" namespace="http://www.bolivariano.com/MensajeDirectvPostpago"/>
        </target>
      </mapTargets>
      <!-- GENERATED BY ORACLE XSL MAPPER 11.1.1.7.8(build 150622.2350.0222) AT [THU JUL 19 22:47:33 COT 2018]. -->
    ?>
    <xsl:stylesheet version="1.0"
                    xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                    xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                    xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:bpm="http://xmlns.oracle.com/bpmn20/extensions"
                    xmlns:ns1="http://www.bolivariano.com/dominio/DatoAdicional"
                    xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
                    xmlns:ns14="http://www.bolivariano.com/CoreBB"
                    xmlns:ns16="http://www.bolivariano.com/Cuenta"
                    xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
                    xmlns:ora="http://schemas.oracle.com/xpath/extension"
                    xmlns:ns5="http://www.bolivariano.com/dominio/Convenio"
                    xmlns:socket="http://www.oracle.com/XSL/Transform/java/oracle.tip.adapter.socket.ProtocolTranslator"
                    xmlns:ns6="http://www.bolivariano.com/dominio/Recibo"
                    xmlns:ns11="http://www.bolivariano.com/ws/DirectvPostpago/"
                    xmlns:ns10="http://www.bolivariano.com/dominio/ListaSeleccion"
                    xmlns:ns9="http://www.bolivariano.com/dominio/RegionalArea"
                    xmlns:ns0="http://www.bolivariano.com/dominio/Servicio"
                    xmlns:ns13="http://www.bolivariano.com/MensajeBolivariano"
                    xmlns:ns12="http://www.bolivariano.com/DirectvPostpago"
                    xmlns:mhdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.mediator.service.common.functions.MediatorExtnFunction"
                    xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                    xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue"
                    xmlns:ns17="http://www.bolivariano.com/Recaudo"
                    xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
                    xmlns:med="http://schemas.oracle.com/mediator/xpath"
                    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                    xmlns:ns2="http://www.bolivariano.com/dominio/TipoMatriculacion"
                    xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
                    xmlns:ns3="http://www.bolivariano.com/dominio/FormaPago"
                    xmlns:xdk="http://schemas.oracle.com/bpel/extension/xpath/function/xdk"
                    xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions"
                    xmlns:ns4="http://www.bolivariano.com/dominio/TipoIdentificador"
                    xmlns:tns="http://www.bolivariano.com/ws/OTCService"
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                    xmlns:ns15="http://www.bolivariano.com/Producto"
                    xmlns:ns18="http://www.bolivariano.com/Cliente"
                    xmlns:ns7="http://www.bolivariano.com/dominio/Empresa"
                    xmlns:xsd1="http://www.bolivariano.com/MensajeDirectvPostpago"
                    xmlns:ns8="http://www.bolivariano.com/mensaje/MensajeOTC"
                    xmlns:ldap="http://schemas.oracle.com/xpath/extension/ldap"
                    exclude-result-prefixes="xsi xsl ns1 soap wsdl ns5 ns6 ns10 ns9 ns0 ns2 ns3 ns4 tns xsd ns7 ns8 ns14 ns16 ns11 ns13 ns12 ns17 ns15 ns18 xsd1 xp20 bpws bpel bpm ora socket mhdr oraext dvm hwf med ids xdk xref ldap">
      <xsl:template match="/">
        <xsd1:MensajeEntradaConsultar>
          <canal>
            <xsl:value-of select="/ns8:entradaConsultarDeuda/ns8:canal"/>
          </canal>
          <depuracion>
            <xsl:text disable-output-escaping="no">N</xsl:text>
          </depuracion>
          <oficina>
          <xsl:value-of select='/ns8:entradaConsultarDeuda/ns8:servicio/datosAdicionales/datoAdicional[codigo = "s_ofi"]/valor'/>
          </oficina>
          <terminal><xsl:value-of select='/ns8:entradaConsultarDeuda/ns8:servicio/datosAdicionales/datoAdicional[codigo = "s_term"]/valor'/></terminal>
          <transaccion>
            <xsl:text disable-output-escaping="no">62648</xsl:text>
          </transaccion>
         <usuario><xsl:value-of select='/ns8:entradaConsultarDeuda/ns8:servicio/datosAdicionales/datoAdicional[codigo = "s_user"]/valor'/></usuario>
          <DirectvPostpago>
              <xsl:choose>
                  <xsl:when test="/ns8:entradaConsultarDeuda/ns8:canal='CNB'">
                      <empresa>
                          <xsl:text disable-output-escaping="no">5488</xsl:text>
                      </empresa>
                  </xsl:when>
                  <xsl:otherwise>
                      <empresa>
                          <xsl:value-of select="/ns8:entradaConsultarDeuda/ns8:servicio/codigoEmpresa"/>
                      </empresa>
                  </xsl:otherwise>
              </xsl:choose>
            <identificacion>
              <xsl:value-of select="/ns8:entradaConsultarDeuda/ns8:servicio/identificador"/>
            </identificacion>
            <tipoBusqueda>
              <!--<xsl:text disable-output-escaping="no">0</xsl:text>-->
              <xsl:value-of select="/ns8:entradaConsultarDeuda/ns8:servicio/codigoTipoIdentificador"/>
            </tipoBusqueda>
          </DirectvPostpago>
          <informacionCore>
            <login>
              <xsl:value-of select='/ns8:entradaConsultarDeuda/ns8:servicio/datosAdicionales/datoAdicional[codigo = "s_rol"]/valor'/>
            </login>
            <secuencial>
             <xsl:value-of select='/ns8:entradaConsultarDeuda/ns8:servicio/datosAdicionales/datoAdicional[codigo = "s_ssn"]/valor'/>
            </secuencial>
            <servidor>
              <xsl:value-of select='/ns8:entradaConsultarDeuda/ns8:servicio/datosAdicionales/datoAdicional[codigo = "s_srv"]/valor'/>
            </servidor>
          </informacionCore>
            <!--<xsl:if test="/ns8:entradaConsultarDeuda/ns8:canal = 'CNB' ">
                <CNB>
                    <tipoTransaccion>C</tipoTransaccion>
                </CNB>
            </xsl:if>-->
        </xsd1:MensajeEntradaConsultar>
      </xsl:template>
    </xsl:stylesheet>
  DIRECTVPOSPAGO_C_OUT.xsl: |
    <?xml version="1.0" encoding="UTF-8" ?>
    <?oracle-xsl-mapper <!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. -->
      <mapSources>
        <source type="WSDL">
          <schema location="../wsdl/DirectvPostpago.wsdl"/>
          <rootElement name="MensajeSalidaConsultar" namespace="http://www.bolivariano.com/MensajeDirectvPostpago"/>
        </source>
      </mapSources>
      <mapTargets>
        <target type="WSDL">
          <schema location="../OTCEndpoint_1.wsdl"/>
          <rootElement name="salidaConsultarDeuda" namespace="http://www.bolivariano.com/ws/OTCService"/>
        </target>
      </mapTargets>
      <!-- GENERATED BY ORACLE XSL MAPPER 11.1.1.7.8(build 150622.2350.0222) AT [THU JUL 19 23:51:09 COT 2018]. -->
    ?>
    <xsl:stylesheet version="1.0"
                    xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                    xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                    xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:bpm="http://xmlns.oracle.com/bpmn20/extensions"
                    xmlns:ns7="http://www.bolivariano.com/dominio/DatoAdicional"
                    xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
                    xmlns:ns2="http://www.bolivariano.com/CoreBB"
                    xmlns:ns4="http://www.bolivariano.com/Cuenta"
                    xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
                    xmlns:ora="http://schemas.oracle.com/xpath/extension"
                    xmlns:socket="http://www.oracle.com/XSL/Transform/java/oracle.tip.adapter.socket.ProtocolTranslator"
                    xmlns:ns13="http://www.bolivariano.com/dominio/Convenio"
                    xmlns:ns14="http://www.bolivariano.com/dominio/Recibo"
                    xmlns:tns="http://www.bolivariano.com/ws/DirectvPostpago/"
                    xmlns:ns17="http://www.bolivariano.com/dominio/RegionalArea"
                    xmlns:ns18="http://www.bolivariano.com/dominio/ListaSeleccion"
                    xmlns:ns9="http://www.bolivariano.com/dominio/Servicio"
                    xmlns:ns1="http://www.bolivariano.com/MensajeBolivariano"
                    xmlns:ns0="http://www.bolivariano.com/DirectvPostpago"
                    xmlns:mhdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.mediator.service.common.functions.MediatorExtnFunction"
                    xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                    xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue"
                    xmlns:ns5="http://www.bolivariano.com/Recaudo"
                    xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
                    xmlns:ns10="http://www.bolivariano.com/dominio/TipoMatriculacion"
                    xmlns:med="http://schemas.oracle.com/mediator/xpath"
                    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                    xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
                    xmlns:ns11="http://www.bolivariano.com/dominio/FormaPago"
                    xmlns:xdk="http://schemas.oracle.com/bpel/extension/xpath/function/xdk"
                    xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions"
                    xmlns:ns12="http://www.bolivariano.com/dominio/TipoIdentificador"
                    xmlns:ns8="http://www.bolivariano.com/ws/OTCService"
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                    xmlns:ns3="http://www.bolivariano.com/Producto"
                    xmlns:ns6="http://www.bolivariano.com/Cliente"
                    xmlns:ns15="http://www.bolivariano.com/dominio/Empresa"
                    xmlns:xsd1="http://www.bolivariano.com/MensajeDirectvPostpago"
                    xmlns:ns16="http://www.bolivariano.com/mensaje/MensajeOTC"
                    xmlns:ldap="http://schemas.oracle.com/xpath/extension/ldap"
                    exclude-result-prefixes="xsi xsl soap ns2 ns4 wsdl tns ns1 ns0 ns5 xsd ns3 ns6 xsd1 ns7 ns13 ns14 ns17 ns18 ns9 ns10 ns11 ns12 ns8 ns15 ns16 xp20 bpws bpel bpm ora socket mhdr oraext dvm hwf med ids xdk xref ldap">
      <xsl:template match="/">
        <ns16:salidaConsultarDeuda>
          <xsl:choose>
            <xsl:when test="/xsd1:MensajeSalidaConsultar/codigoError != 0">
              <ns16:codigoError>
                <xsl:value-of select="/xsd1:MensajeSalidaConsultar/codigoError"/>
              </ns16:codigoError>
              <ns16:mensajeUsuario>
                <xsl:value-of select="/xsd1:MensajeSalidaConsultar/mensajeUsuario"/>
              </ns16:mensajeUsuario>
            </xsl:when>
            <xsl:otherwise>
              <xsl:if test="/xsd1:MensajeSalidaConsultar/Cliente/pasivos/monto &lt;= 0">
                <ns16:codigoError>
                  <xsl:text disable-output-escaping="no">-1</xsl:text>
                </ns16:codigoError>
                <ns16:mensajeUsuario>
                  <xsl:text disable-output-escaping="no">Cliente no tiene deuda</xsl:text>
                </ns16:mensajeUsuario>
              </xsl:if>
              <xsl:if test="/xsd1:MensajeSalidaConsultar/Cliente/pasivos/monto > 0">
                <ns16:codigoError>
                  <xsl:value-of select="/xsd1:MensajeSalidaConsultar/codigoError"/>
                </ns16:codigoError>
                <ns16:mensajeUsuario>
                  <xsl:value-of select="/xsd1:MensajeSalidaConsultar/mensajeUsuario"/>
                </ns16:mensajeUsuario>
                <ns16:datosAdicionales>
                  <ns16:datoAdicional>
                    <codigo>
                      <xsl:text disable-output-escaping="no">direccion</xsl:text>
                    </codigo>
                    <etiqueta>
                      <xsl:text disable-output-escaping="no">Direccion del Domicilio</xsl:text>
                    </etiqueta>
                    <editable>
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </editable>
                    <valor>
                      <xsl:value-of select="/xsd1:MensajeSalidaConsultar/Cliente/pasivos/institucionCuenta"/>
                    </valor>
                    <visible>
                      <xsl:text disable-output-escaping="no">true</xsl:text>
                    </visible>
                  </ns16:datoAdicional>
                  <ns16:datoAdicional>
                    <codigo>
                      <xsl:text disable-output-escaping="no">codigo_suministro</xsl:text>
                    </codigo>
                    <etiqueta>
                      <xsl:text disable-output-escaping="no">codigo_suministro</xsl:text>
                    </etiqueta>
                    <editable>
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </editable>
                    <valor>
                      <xsl:value-of select="/xsd1:MensajeSalidaConsultar/Cliente/pasivos/cuenta"/>
                    </valor>
                    <visible>
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </visible>
                  </ns16:datoAdicional>
    			<ns16:datoAdicional>
                    <codigo>
                      <xsl:text disable-output-escaping="no">detalle_rubro</xsl:text>
                    </codigo>
                    <etiqueta>
                      <xsl:text disable-output-escaping="no">detalle_rubro</xsl:text>
                    </etiqueta>
                    <editable>
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </editable>
                    <valor>
                      <xsl:value-of select="/xsd1:MensajeSalidaConsultar/Cliente/pasivos/institucionCuenta"/>
                    </valor>
                    <visible>
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </visible>
                  </ns16:datoAdicional>
                  <ns16:datoAdicional>
                   <codigo>valorComision</codigo>
                    <xsl:choose>
                     <xsl:when test ="/xsd1:MensajeSalidaConsultar/DirectvPostpago/valorComision">
                      <valor>
                       <xsl:value-of select="format-number(/xsd1:MensajeSalidaConsultar/DirectvPostpago/valorComision,'0.00')"/>
                      </valor>
                     </xsl:when>
                     <xsl:otherwise>
                      <valor>
                       <xsl:text disable-output-escaping="no">0.00</xsl:text>
                      </valor>
                     </xsl:otherwise>
                  </xsl:choose>
                </ns16:datoAdicional>
    			</ns16:datosAdicionales>
                <ns16:formaPago>
                  <xsl:text disable-output-escaping="no">TOTAL</xsl:text>
                </ns16:formaPago>
                <ns16:mensajeUsuario>
                  <xsl:value-of select="/xsd1:MensajeSalidaConsultar/mensajeUsuario"/>
                </ns16:mensajeUsuario>
                <ns16:montoTotal>
                  <xsl:value-of select="/xsd1:MensajeSalidaConsultar/Cliente/pasivos/monto"/>
                </ns16:montoTotal>
                <ns16:nombreCliente>
                  <xsl:value-of select="/xsd1:MensajeSalidaConsultar/Cliente/pasivos/nombreInstitucion"/>
                </ns16:nombreCliente>
              </xsl:if>
            </xsl:otherwise>
          </xsl:choose>
        </ns16:salidaConsultarDeuda>
      </xsl:template>
    </xsl:stylesheet>
  DIRECTVPOSPAGO_P_IN.xsl: |
    <?xml version="1.0" encoding="UTF-8" ?>
    <?oracle-xsl-mapper <!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. -->
      <mapSources>
        <source type="WSDL">
          <schema location="../OTCEndpoint_1.wsdl"/>
          <rootElement name="entradaEjecutarPago" namespace="http://www.bolivariano.com/ws/OTCService"/>
        </source>
      </mapSources>
      <mapTargets>
        <target type="WSDL">
          <schema location="../wsdl/DirectvPostpago.wsdl"/>
          <rootElement name="MensajeEntradaPago" namespace="http://www.bolivariano.com/MensajeDirectvPostpago"/>
        </target>
      </mapTargets>
      <!-- GENERATED BY ORACLE XSL MAPPER 11.1.1.7.8(build 150622.2350.0222) AT [MON JUL 23 16:47:05 COT 2018].
       <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorComision"/>
      -->
    ?>
    <xsl:stylesheet version="1.0"
                    xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                    xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                    xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:bpm="http://xmlns.oracle.com/bpmn20/extensions"
                    xmlns:ns1="http://www.bolivariano.com/dominio/DatoAdicional"
                    xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
                    xmlns:ns14="http://www.bolivariano.com/CoreBB"
                    xmlns:ns16="http://www.bolivariano.com/Cuenta"
                    xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
                    xmlns:ora="http://schemas.oracle.com/xpath/extension"
                    xmlns:socket="http://www.oracle.com/XSL/Transform/java/oracle.tip.adapter.socket.ProtocolTranslator"
                    xmlns:ns5="http://www.bolivariano.com/dominio/Convenio"
                    xmlns:ns6="http://www.bolivariano.com/dominio/Recibo"
                    xmlns:ns11="http://www.bolivariano.com/ws/DirectvPostpago/"
                    xmlns:ns9="http://www.bolivariano.com/dominio/RegionalArea"
                    xmlns:ns10="http://www.bolivariano.com/dominio/ListaSeleccion"
                    xmlns:ns0="http://www.bolivariano.com/dominio/Servicio"
                    xmlns:ns12="http://www.bolivariano.com/DirectvPostpago"
                    xmlns:ns13="http://www.bolivariano.com/MensajeBolivariano"
                    xmlns:mhdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.mediator.service.common.functions.MediatorExtnFunction"
                    xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                    xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue"
                    xmlns:ns17="http://www.bolivariano.com/Recaudo"
                    xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
                    xmlns:ns2="http://www.bolivariano.com/dominio/TipoMatriculacion"
                    xmlns:med="http://schemas.oracle.com/mediator/xpath"
                    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                    xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
                    xmlns:ns3="http://www.bolivariano.com/dominio/FormaPago"
                    xmlns:xdk="http://schemas.oracle.com/bpel/extension/xpath/function/xdk"
                    xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions"
                    xmlns:ns4="http://www.bolivariano.com/dominio/TipoIdentificador"
                    xmlns:tns="http://www.bolivariano.com/ws/OTCService"
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                    xmlns:ns15="http://www.bolivariano.com/Producto"
                    xmlns:ns7="http://www.bolivariano.com/dominio/Empresa"
                    xmlns:ns18="http://www.bolivariano.com/Cliente"
                    xmlns:ns8="http://www.bolivariano.com/mensaje/MensajeOTC"
                    xmlns:xsd1="http://www.bolivariano.com/MensajeDirectvPostpago"
                    xmlns:ldap="http://schemas.oracle.com/xpath/extension/ldap"
                    exclude-result-prefixes="xsi xsl ns1 soap wsdl ns5 ns6 ns9 ns10 ns0 ns2 ns3 ns4 tns xsd ns7 ns8 ns14 ns16 ns11 ns12 ns13 ns17 ns15 ns18 xsd1 xp20 bpws bpel bpm ora socket mhdr oraext dvm hwf med ids xdk xref ldap">
      <xsl:template match="/">
        <xsd1:MensajeEntradaPago>
          <canal>
            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:canal"/>
          </canal>
          <oficina>
            <xsl:value-of select='/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_ofi"]/valor'/>
          </oficina>
          <terminal>
            <xsl:value-of select='/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_term"]/valor'/>
          </terminal>
          <transaccion>
            <xsl:text disable-output-escaping="no">62649</xsl:text>
          </transaccion>
          <usuario>
            <xsl:value-of select='/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_user"]/valor'/>
          </usuario>
          <DirectvPostpago>
            <aplicativoCobis>
              <xsl:text disable-output-escaping="no">S</xsl:text>
            </aplicativoCobis>
            <autorizacion>
              <xsl:text disable-output-escaping="no">N</xsl:text>
            </autorizacion>
              <xsl:choose>
                <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB' and (/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'DEB')">
                  <debito>
                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorPago"/>
                  </debito>
                </xsl:when>
                <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB' and (/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                  <debito>
                    <xsl:text disable-output-escaping="no">0.00</xsl:text>
                  </debito>
                </xsl:when>
                <xsl:otherwise>
                  <debito>
                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorPago"/>
                  </debito>
                </xsl:otherwise>
              </xsl:choose>
              <xsl:choose>
                <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB' and (/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'DEB')">
                  <debitoComision>
                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorComision"/>
                  </debitoComision>
                </xsl:when>
                <xsl:otherwise>
                  <debitoComision>
                    <xsl:text disable-output-escaping="no">0.00</xsl:text>
                  </debitoComision>
                </xsl:otherwise>
              </xsl:choose>
    		<detalleRubro>
    		    <xsl:value-of select='/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = "detalle_rubro"]/valor'/>
            </detalleRubro>
              <xsl:choose>
                <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB' and (/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                  <efectivo>
                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorPago"/>
                  </efectivo>
                  <efectivoComision>
                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorComision"/>
                  </efectivoComision>
                </xsl:when>
                <xsl:otherwise>
                  <efectivo>
                    <xsl:text disable-output-escaping="no">0.00</xsl:text>
                  </efectivo>
                  <efectivoComision>
                   <xsl:text disable-output-escaping="no">0.00</xsl:text>
                  </efectivoComision>
                </xsl:otherwise>
              </xsl:choose>
              <xsl:choose>
                  <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB'">
                      <empresa>
                          <xsl:text disable-output-escaping="no">5488</xsl:text>
                      </empresa>
                  </xsl:when>
                  <xsl:otherwise>
                      <empresa>
                          <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:servicio/codigoEmpresa"/>
                      </empresa>
                  </xsl:otherwise>
              </xsl:choose>
            <identificacion>
              <xsl:value-of select='/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = "codigo_suministro"]/valor'/>
            </identificacion>
            <nombre>
              <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:nombreCliente"/>
            </nombre>
            <tipoMoneda>
              <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:moneda"/>
            </tipoMoneda>
            <totalComision>
              <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorComision"/>
            </totalComision>
            <valorTotalCancelar>
              <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorPago"/>
            </valorTotalCancelar>
            <cuenta>
              <cuenta>
                <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:cuenta"/>
              </cuenta>
              <xsl:choose>
                <xsl:when test ="/ns8:entradaEjecutarPago/ns8:canal = 'CNB' and (/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                  <tipoCuenta>
                    <xsl:text disable-output-escaping="no">CTE</xsl:text>
                  </tipoCuenta>
                </xsl:when>
                <xsl:otherwise>
                  <tipoCuenta>
                    <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:tipoCuenta"/>
                  </tipoCuenta>
                </xsl:otherwise>
              </xsl:choose>
              <servicio>
                <xsl:text disable-output-escaping="no">7</xsl:text>
              </servicio>
            </cuenta>
            <autoriza>
              <xsl:text disable-output-escaping="no">N</xsl:text>
            </autoriza>
            <nombreSuscriptor>
              <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:nombreCliente"/>
            </nombreSuscriptor>
          </DirectvPostpago>
          <informacionCore>
            <fechaProcesoKernel>
              <xsl:value-of select='/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_date"]/valor'/>
            </fechaProcesoKernel>
            <login>
              <xsl:text disable-output-escaping="no">998</xsl:text>
            </login>
            <modoCorreccion>
              <xsl:text disable-output-escaping="no">N</xsl:text>
            </modoCorreccion>
            <rolBPM>
              <xsl:value-of select='/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_rol"]/valor'/>
            </rolBPM>
            <sec>
              <xsl:value-of select='/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_ssn"]/valor'/>
            </sec>
            <secuencial>
              <xsl:value-of select='/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_ssn"]/valor'/>
            </secuencial>
            <servidor>
              <xsl:value-of select='/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_srv"]/valor'/>
            </servidor>
          </informacionCore>
            <xsl:choose>
                <xsl:when test="/ns8:entradaEjecutarPago/ns8:canal = 'CNB'">
                    <CNB>
                        <autorizacion>
                            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_autorizacionCNB']/valor"/>
                        </autorizacion>
                        <comercio>
                            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_comercio']/valor"/>
                        </comercio>
                        <terminalID>
                            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_terminalID']/valor"/>
                        </terminalID>
                        <agencia>
                            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_agencia']/valor"/>
                        </agencia>
                        <red>
                            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_red']/valor"/>
                        </red>
                        <secuencial>
                            <xsl:value-of select='/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_ssn"]/valor'/>
                        </secuencial>
                        <valor>
                            <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorPago"/>
                        </valor>
                        <nombreCliente>
                            <xsl:value-of select='/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = "p_nombreCliente"]/valor'/>
                        </nombreCliente>
                        <identificacionCliente>
                            <xsl:value-of select='/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = "p_identificacionCliente"]/valor'/>
                        </identificacionCliente>
                        <modoCorreccion>
                            <xsl:text disable-output-escaping="no">N</xsl:text>
                        </modoCorreccion>
                        <tipoTransaccion>P</tipoTransaccion>
                        <formaPago>
                            <xsl:value-of select='/ns8:entradaEjecutarPago/ns8:datosAdicionales/ns8:datoAdicional[codigo = "p_forma_pago"]/valor'/>
                        </formaPago>
                    </CNB>
                </xsl:when>
            </xsl:choose>
        </xsd1:MensajeEntradaPago>
      </xsl:template>
    </xsl:stylesheet>
  DIRECTVPOSPAGO_P_OUT.xsl: |
    <?xml version="1.0" encoding="UTF-8"?>
    <xsl:stylesheet version="1.0" xmlns:mmn="http://www.bolivariano.com/MensajeDirectvPostpago" xmlns:ns9="http://www.bolivariano.com/mensaje/MensajeOTC" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="java" exclude-result-prefixes="java xsl ns9 mmn">
        <xsl:template match="/">
            <xsl:choose>
                <xsl:when test="/mmn:MensajeSalidaPago/codigoError='0'">
                    <ns9:salidaEjecutarPago>
                        <ns9:codigoError>0</ns9:codigoError>
                        <ns9:datosAdicionales>
                            <ns9:datoAdicional>
                                <codigo>codigoProveedor</codigo>
                                <etiqueta>Num.Autorizacion</etiqueta>
                                <valor>
                                    <xsl:value-of select="/mmn:MensajeSalidaPago/DirectvPostpago/codigoProveedor"/>
                                </valor>
                                <visible>true</visible>
                            </ns9:datoAdicional>
                            <ns9:datoAdicional>
                                <codigo>detalle_rubro</codigo>
                                <etiqueta>Detalle del Contrato</etiqueta>
                                <valor>
                                    <xsl:value-of select="/mmn:MensajeSalidaPago/DirectvPostpago/detalleRubro"/>
                                </valor>
                                <visible>true</visible>
                            </ns9:datoAdicional>
                            <ns9:datoAdicional>
                                <codigo>horario</codigo>
                                <etiqueta>Horario de Pago</etiqueta>
                                <valor>
                                    <xsl:value-of select="/mmn:MensajeSalidaPago/DirectvPostpago/horario"/>
                                </valor>
                                <visible>true</visible>
                            </ns9:datoAdicional>
                        </ns9:datosAdicionales>
                        <ns9:fechaDebito>
                            <xsl:value-of select="java:format(java:text.SimpleDateFormat.new(&quot;yyyy-MM-dd&apos;T&apos;HH:mm:ss&quot;), java:util.Date.new())"/>
                        </ns9:fechaDebito>
                        <ns9:fechaPago>
                            <xsl:value-of select="/mmn:MensajeSalidaPago/DirectvPostpago/fechaContable"/>
                        </ns9:fechaPago>
                        <ns9:mensajeUsuario>Transaccion ok</ns9:mensajeUsuario>
                        <ns9:referencia>
                            <xsl:value-of select="/mmn:MensajeSalidaPago/informacionCore/secuencial"/>
                        </ns9:referencia>
                    </ns9:salidaEjecutarPago>
                </xsl:when>
                <xsl:otherwise>
                    <ns9:salidaEjecutarPago>
                        <ns9:codigoError>
                            <xsl:value-of select="/mmn:MensajeSalidaPago/codigoError"/>
                        </ns9:codigoError>
                        <ns9:mensajeUsuario>Transaccion no Procesada</ns9:mensajeUsuario>
                    </ns9:salidaEjecutarPago>
                </xsl:otherwise>
            </xsl:choose>
        </xsl:template>
    </xsl:stylesheet>
  DIRECTVPOSPAGO_R_IN.xsl: |
    <?xml version="1.0" encoding="UTF-8" ?>
    <?oracle-xsl-mapper <!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. -->
      <mapSources>
        <source type="WSDL">
          <schema location="../OTCEndpoint_1.wsdl"/>
          <rootElement name="entradaEjecutarReverso" namespace="http://www.bolivariano.com/ws/OTCService"/>
        </source>
      </mapSources>
      <mapTargets>
        <target type="WSDL">
          <schema location="../wsdl/DirectvPostpago.wsdl"/>
          <rootElement name="MensajeEntradaReverso" namespace="http://www.bolivariano.com/MensajeDirectvPostpago"/>
        </target>
      </mapTargets>
      <!-- GENERATED BY ORACLE XSL MAPPER 11.1.1.7.8(build 150622.2350.0222) AT [MON JUL 23 16:47:05 COT 2018].
       <xsl:value-of select="/ns8:entradaEjecutarPago/ns8:valorComision"/>
      -->
    ?>
    <xsl:stylesheet version="1.0"
                    xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                    xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                    xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:bpm="http://xmlns.oracle.com/bpmn20/extensions"
                    xmlns:ns1="http://www.bolivariano.com/dominio/DatoAdicional"
                    xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
                    xmlns:ns14="http://www.bolivariano.com/CoreBB"
                    xmlns:ns16="http://www.bolivariano.com/Cuenta"
                    xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
                    xmlns:ora="http://schemas.oracle.com/xpath/extension"
                    xmlns:socket="http://www.oracle.com/XSL/Transform/java/oracle.tip.adapter.socket.ProtocolTranslator"
                    xmlns:ns5="http://www.bolivariano.com/dominio/Convenio"
                    xmlns:ns6="http://www.bolivariano.com/dominio/Recibo"
                    xmlns:ns11="http://www.bolivariano.com/ws/DirectvPostpago/"
                    xmlns:ns9="http://www.bolivariano.com/dominio/RegionalArea"
                    xmlns:ns10="http://www.bolivariano.com/dominio/ListaSeleccion"
                    xmlns:ns0="http://www.bolivariano.com/dominio/Servicio"
                    xmlns:ns12="http://www.bolivariano.com/DirectvPostpago"
                    xmlns:ns13="http://www.bolivariano.com/MensajeBolivariano"
                    xmlns:mhdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.mediator.service.common.functions.MediatorExtnFunction"
                    xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                    xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue"
                    xmlns:ns17="http://www.bolivariano.com/Recaudo"
                    xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
                    xmlns:ns2="http://www.bolivariano.com/dominio/TipoMatriculacion"
                    xmlns:med="http://schemas.oracle.com/mediator/xpath"
                    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                    xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
                    xmlns:ns3="http://www.bolivariano.com/dominio/FormaPago"
                    xmlns:xdk="http://schemas.oracle.com/bpel/extension/xpath/function/xdk"
                    xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions"
                    xmlns:ns4="http://www.bolivariano.com/dominio/TipoIdentificador"
                    xmlns:tns="http://www.bolivariano.com/ws/OTCService"
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                    xmlns:ns15="http://www.bolivariano.com/Producto"
                    xmlns:ns7="http://www.bolivariano.com/dominio/Empresa"
                    xmlns:ns18="http://www.bolivariano.com/Cliente"
                    xmlns:ns8="http://www.bolivariano.com/mensaje/MensajeOTC"
                    xmlns:xsd1="http://www.bolivariano.com/MensajeDirectvPostpago"
                    xmlns:ldap="http://schemas.oracle.com/xpath/extension/ldap"
                    exclude-result-prefixes="xsi xsl ns1 soap wsdl ns5 ns6 ns9 ns10 ns0 ns2 ns3 ns4 tns xsd ns7 ns8 ns14 ns16 ns11 ns12 ns13 ns17 ns15 ns18 xsd1 xp20 bpws bpel bpm ora socket mhdr oraext dvm hwf med ids xdk xref ldap">
      <xsl:template match="/">
        <xsd1:MensajeEntradaReverso>
          <canal>
            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:canal"/>
          </canal>
          <oficina>
            <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_ofi"]/valor'/>
          </oficina>
          <terminal>
            <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_term"]/valor'/>
          </terminal>
          <transaccion>
            <xsl:text disable-output-escaping="no">62649</xsl:text>
          </transaccion>
          <usuario>
            <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_user"]/valor'/>
          </usuario>
          <DirectvPostpago>
            <aplicativoCobis>
              <xsl:text disable-output-escaping="no">S</xsl:text>
            </aplicativoCobis>
            <autorizacion>
              <xsl:text disable-output-escaping="no">N</xsl:text>
            </autorizacion>
              <cantidadCheque>
                  <xsl:text disable-output-escaping="no">0</xsl:text>
              </cantidadCheque>
              <chequeComision>
                  <xsl:text disable-output-escaping="no">0.00</xsl:text>
              </chequeComision>
              <xsl:choose>
                  <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB' and (/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'DEB')">
                      <debito>
                          <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorPago"/>
                      </debito>
                      <debitoComision>
                          <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorComision"/>
                      </debitoComision>
                  </xsl:when>
                  <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB' and (/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                      <debito>
                          <xsl:text disable-output-escaping="no">0.00</xsl:text>
                      </debito>
                      <debitoComision>
                          <xsl:text disable-output-escaping="no">0.00</xsl:text>
                      </debitoComision>
                  </xsl:when>
                  <xsl:otherwise>
                      <debito>
                          <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorPago"/>
                      </debito>
                      <debitoComision>
                          <xsl:text disable-output-escaping="no">0.00</xsl:text>
                      </debitoComision>
                  </xsl:otherwise>
              </xsl:choose>
    		<detalleRubro>
    		    <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "detalle_rubro"]/valor'/>
            </detalleRubro>
              <xsl:choose>
                  <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB' and (/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                      <efectivo>
                        <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorPago"/>
                      </efectivo>
                      <efectivoComision>
                        <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorComision"/>
                      </efectivoComision>
                  </xsl:when>
                  <xsl:otherwise>
                      <efectivo>
                        <xsl:text disable-output-escaping="no">0.00</xsl:text>
                      </efectivo>
                      <efectivoComision>
                        <xsl:text disable-output-escaping="no">0.00</xsl:text>
                      </efectivoComision>
                  </xsl:otherwise>
              </xsl:choose>
              <xsl:choose>
                  <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB'">
                      <empresa>
                          <xsl:text disable-output-escaping="no">5488</xsl:text>
                      </empresa>
                  </xsl:when>
                  <xsl:otherwise>
                      <empresa>
                          <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:servicio/codigoEmpresa"/>
                      </empresa>
                  </xsl:otherwise>
              </xsl:choose>
            <identificacion>
              <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "codigo_suministro"]/valor'/>
            </identificacion>
            <nombre>
              <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:nombreCliente"/>
            </nombre>
            <tipoMoneda>
              <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:moneda"/>
            </tipoMoneda>
              <ubicacion>
                  <xsl:text disable-output-escaping="no">0</xsl:text>
              </ubicacion>
            <totalComision>
              <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorComision"/>
            </totalComision>
              <valorCheque>
                  <xsl:text disable-output-escaping="no">0.00</xsl:text>
              </valorCheque>
            <valorTotalCancelar>
              <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:valorPago"/>
            </valorTotalCancelar>
            <cuenta>
              <cuenta>
                <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:cuenta"/>
              </cuenta>
             <xsl:choose>
                <xsl:when test ="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB' and (/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_forma_pago']/valor = 'EFE')">
                  <tipoCuenta>
                    <xsl:text disable-output-escaping="no">CTE</xsl:text>
                  </tipoCuenta>
                </xsl:when>
                <xsl:otherwise>
                  <tipoCuenta>
                    <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:tipoCuenta"/>
                  </tipoCuenta>
                </xsl:otherwise>
              </xsl:choose>
              <servicio>
                <xsl:text disable-output-escaping="no">7</xsl:text>
              </servicio>
                <subtotal>
                    <xsl:text disable-output-escaping="no">0.00</xsl:text>
                </subtotal>
            </cuenta>
            <autoriza>
              <xsl:text disable-output-escaping="no">N</xsl:text>
            </autoriza>
            <codigoPreAutorizacion>
                <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "codigoProveedor"]/valor'/>
            </codigoPreAutorizacion>
            <nombreSuscriptor>
              <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:nombreCliente"/>
            </nombreSuscriptor>
          </DirectvPostpago>
          <informacionCore>
            <fechaProcesoKernel>
              <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_date"]/valor'/>
            </fechaProcesoKernel>
            <login>
              <xsl:text disable-output-escaping="no">998</xsl:text>
            </login>
            <modoCorreccion>
              <xsl:text disable-output-escaping="no">S</xsl:text>
            </modoCorreccion>
            <reversoTransaccion>
               <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "p_reversoTransaccion"]/valor'/>
            </reversoTransaccion>
            <rolBPM>
              <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_rol"]/valor'/>
            </rolBPM>
            <sec>
              <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_ssn"]/valor'/>
            </sec>
            <secuencial>
              <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_ssn"]/valor'/>
            </secuencial>
            <servidor>
              <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_srv"]/valor'/>
            </servidor>
          </informacionCore>
            <xsl:choose>
                <xsl:when test="/ns8:entradaEjecutarReverso/ns8:canal = 'CNB'">
                    <CNB>
                        <autorizacion>
                            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_autorizacionCNB']/valor"/>
                        </autorizacion>
                        <comercio>
                            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_comercio']/valor"/>
                        </comercio>
                        <terminalID>
                            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_terminalID']/valor"/>
                        </terminalID>
                        <agencia>
                            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_agencia']/valor"/>
                        </agencia>
                        <red>
                            <xsl:value-of select="/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = 'p_red']/valor"/>
                        </red>
                        <secuencial>
                            <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "s_ssn"]/valor'/>
                        </secuencial>
                        <valor>
                            <xsl:value-of select="format-number(/ns8:entradaEjecutarReverso/ns8:valorPago, '0.00')"/>
                        </valor>
                        <nombreCliente>
                            <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "p_nombreCliente"]/valor'/>
                        </nombreCliente>
                        <identificacionCliente>
                            <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "p_identificacionCliente"]/valor'/>
                        </identificacionCliente>
                        <modoCorreccion>
                            <xsl:text disable-output-escaping="no">S</xsl:text>
                        </modoCorreccion>
                        <reversoTransaccion>
                            <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "p_reversoTransaccion"]/valor'/>
                        </reversoTransaccion>
                        <tipoTransaccion>R</tipoTransaccion>
                        <formaPago>
                            <xsl:value-of select='/ns8:entradaEjecutarReverso/ns8:datosAdicionales/ns8:datoAdicional[codigo = "p_forma_pago"]/valor'/>
                        </formaPago>
                    </CNB>
                </xsl:when>
            </xsl:choose>
        </xsd1:MensajeEntradaReverso>
      </xsl:template>
    </xsl:stylesheet>
  DIRECTVPOSPAGO_R_OUT.xsl: |
    <?xml version="1.0" encoding="UTF-8"?>
    <xsl:stylesheet version="1.0" xmlns:mmn="http://www.bolivariano.com/MensajeDirectvPostpago" xmlns:ns9="http://www.bolivariano.com/mensaje/MensajeOTC" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="java" exclude-result-prefixes="java xsl ns9 mmn">
        <xsl:template match="/">
            <xsl:choose>
                <xsl:when test="/mmn:MensajeSalidaReverso/codigoError='0'">
                    <ns9:salidaEjecutarPago>
                        <ns9:codigoError>0</ns9:codigoError>
                        <ns9:datosAdicionales>
                            <ns9:datoAdicional>
                                <codigo>codigoProveedor</codigo>
                                <etiqueta>Num.Autorizacion</etiqueta>
                                <valor>
                                    <xsl:value-of select="/mmn:MensajeSalidaReverso/DirectvPostpago/codigoProveedor"/>
                                </valor>
                                <visible>true</visible>
                            </ns9:datoAdicional>
                            <ns9:datoAdicional>
                                <codigo>detalle_rubro</codigo>
                                <etiqueta>Detalle del Contrato</etiqueta>
                                <valor>
                                    <xsl:value-of select="/mmn:MensajeSalidaReverso/DirectvPostpago/detalleRubro"/>
                                </valor>
                                <visible>true</visible>
                            </ns9:datoAdicional>
                        </ns9:datosAdicionales>
                        <ns9:fechaDebito>
                            <xsl:value-of select="java:format(java:text.SimpleDateFormat.new(&quot;yyyy-MM-dd&apos;T&apos;HH:mm:ss&quot;), java:util.Date.new())"/>
                        </ns9:fechaDebito>
                        <ns9:fechaPago>
                            <xsl:value-of select="/mmn:MensajeSalidaReverso/DirectvPostpago/fechaContable"/>
                        </ns9:fechaPago>
                        <ns9:mensajeUsuario>Transaccion ok</ns9:mensajeUsuario>
                        <ns9:referencia>
                            <xsl:value-of select="/mmn:MensajeSalidaReverso/informacionCore/secuencial"/>
                        </ns9:referencia>
                    </ns9:salidaEjecutarPago>
                </xsl:when>
                <xsl:otherwise>
                    <ns9:salidaEjecutarPago>
                        <ns9:codigoError>
                            <xsl:value-of select="/mmn:MensajeSalidaReverso/codigoError"/>
                        </ns9:codigoError>
                        <ns9:mensajeSistema>Transaccion no Procesada</ns9:mensajeSistema>
                        <ns9:mensajeUsuario>
                            <xsl:value-of select="/mmn:MensajeSalidaReverso/mensajeUsuario"/>
                        </ns9:mensajeUsuario>
                    </ns9:salidaEjecutarPago>
                </xsl:otherwise>
            </xsl:choose>
        </xsl:template>
    </xsl:stylesheet>
